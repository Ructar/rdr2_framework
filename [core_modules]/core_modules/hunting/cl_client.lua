Animal = {
    [1] =  {["name"] = "Bear",                     ["model"] = -1124266369,  ["item"] = "meat",        ["poor"] = 957520252,   ["good"] = 143941906,   ["perfect"] = 1292673537,  ["reward"] = 7,  },
    [2] =  {["name"] = "Big Horn Ram",             ["model"] = -15687816381, ["item"] = "meat",        ["poor"] = 1796037447,  ["good"] = -476045512,  ["perfect"] = 1795984405,  ["reward"] = 3,  },
    [3] =  {["name"] = "Boar",                     ["model"] = 2028722809,   ["item"] = "meat",        ["poor"] = 1248540072,  ["good"] = nil,         ["perfect"] = -1858513856, ["reward"] = 2,  },
    [4] =  {["name"] = "Buck",                     ["model"] = -1963605336,  ["item"] = "meat",        ["poor"] = 1603936352,  ["good"] = -868657362,  ["perfect"] = -702790226,  ["reward"] = 2,  },
    [5] =  {["name"] = "Bison",                    ["model"] = 2028722809,   ["item"] = "meat",        ["poor"] = -1730060063, ["good"] = -591117838,  ["perfect"] = -237756948,  ["reward"] = 4,  },
    [6] =  {["name"] = "Bull",                     ["model"] = 195700131,    ["item"] = "meat",        ["poor"] = 9293261,     ["good"] = -336086818,  ["perfect"] = -53270317,   ["reward"] = 2,  },
    [7] =  {["name"] = "Deer",                     ["model"] = 1110710183,   ["item"] = "meat",        ["poor"] = -662178186,  ["good"] = -1827027577, ["perfect"] = -1035515486, ["reward"] = 1,  },
    [8] =  {["name"] = "Duck",                     ["model"] = -1003616053,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [9] =  {["name"] = "Eagle",                    ["model"] = 1459778951,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 9,  },
    [10] = {["name"] = "Egret",                    ["model"] = 831859211,    ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [11] = {["name"] = "Elk",                      ["model"] = -2021043433,  ["item"] = "meat",        ["poor"] = 2053771712,  ["good"] = 1181652728,  ["perfect"] = -1332163079, ["reward"] = 5,  },
    [12] = {["name"] = "American Red Fox",         ["model"] = 252669332,    ["item"] = "meat",        ["poor"] = 1647012424,  ["good"] = 238733925,   ["perfect"] = 500722008,   ["reward"] = 5,  },
    [13] = {["name"] = "Big Grey Wolf",            ["model"] = -1143398950,  ["item"] = "meat",        ["poor"] = 85441452,    ["good"] = 1145777975,  ["perfect"] = 653400939,   ["reward"] = 6,  },
    [14] = {["name"] = "Medium Grey Wolf",         ["model"] = -885451903,   ["item"] = "meat",        ["poor"] = 85441452,    ["good"] = 1145777975,  ["perfect"] = 653400939,   ["reward"] = 5,  },
    [15] = {["name"] = "Small Grey Wolf",          ["model"] = -829273561,   ["item"] = "meat",        ["poor"] = 85441452,    ["good"] = 1145777975,  ["perfect"] = 653400939,   ["reward"] = 4,  },
    [16] = {["name"] = "Vulture",                  ["model"] = 1104697660,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [17] = {["name"] = "Snapping Turtle",          ["model"] = -407730502,   ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [18] = {["name"] = "Wild Turkey",              ["model"] = -466054788,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [19] = {["name"] = "Wild Turkey",              ["model"] = -2011226991,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [20] = {["name"] = "Wild Turkey",              ["model"] = -166054593,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [21] = {["name"] = "Water Snake",              ["model"] = -229688157,   ["item"] = "snakepoison", ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [22] = {["name"] = "Water Snake",              ["model"] = -229688157,   ["item"] = "snakepoison", ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [23] = {["name"] = "Snake Red Boa",            ["model"] = -1790499186,  ["item"] = "snakepoison", ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 6,  },
    [24] = {["name"] = "Snake Fer-De-Lance",       ["model"] = 1464167925,   ["item"] = "snakepoison", ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 6,  },
    [25] = {["name"] = "Black-Tailed Rattlesnake", ["model"] = 846659001,    ["item"] = "snakepoison", ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 6,  },
    [26] = {["name"] = "Western Rattlesnake",      ["model"] = 545068538,    ["item"] = "snakepoison", ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 6,  },
    [27] = {["name"] = "Striped Skunk",            ["model"] = -1211566332,  ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [28] = {["name"] = "Merino Sheep",             ["model"] = 40345436,     ["item"] = "meat",        ["poor"] = 1729948479,  ["good"] = -1317365569, ["perfect"] = 1466150167,  ["reward"] = 1,  },
    [29] = {["name"] = "Herring Seagull",          ["model"] = -164963696,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [30] = {["name"] = "Roseate Spoonbill",        ["model"] = -1076508705,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 2,  },
    [31] = {["name"] = "Dominique Rooster",        ["model"] = 2023522846,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [32] = {["name"] = "Red-Footed Booby",         ["model"] = -466687768,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [33] = {["name"] = "Wester Raven",             ["model"] = -575340245,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [34] = {["name"] = "North American Racoon",    ["model"] = 1458540991,   ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [35] = {["name"] = "Black-Tailed Jackrabbit",  ["model"] = -541762431,   ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [36] = {["name"] = "American Pronghorn Doe",   ["model"] = 1755643085,   ["item"] = "meat",        ["poor"] = -983605026,  ["good"] = 554578289,   ["perfect"] = -1544126829, ["reward"] = 1,  },
    [37] = {["name"] = "Greater Prairie Chicken",  ["model"] = 2079703102,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [38] = {["name"] = "Wirginia Possum",          ["model"] = -1414989025,  ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 2,  },
    [39] = {["name"] = "Berkshire Pig",            ["model"] = 1007418994,   ["item"] = "meat",        ["poor"] = -308965548,  ["good"] = -57190831,   ["perfect"] = -1102272634, ["reward"] = 1,  },
    [40] = {["name"] = "Ring-Necked Pheasant",     ["model"] = 1416324601,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [41] = {["name"] = "American White Pelican",   ["model"] = 1265966684,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [42] = {["name"] = "Blue And Yellow Macaw",    ["model"] = -1797450568,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 10, },
    [43] = {["name"] = "Panther",                  ["model"] = 1654513481,   ["item"] = "meat",        ["poor"] = 1584468323,  ["good"] = -395646254,  ["perfect"] = 1969175294,  ["reward"] = 6,  },
    [44] = {["name"] = "Californian Condor",       ["model"] = 1205982615,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [45] = {["name"] = "Dominique Chicken",        ["model"] = -2063183075,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [46] = {["name"] = "Double-Crested Cormorant", ["model"] = -2073130256,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [47] = {["name"] = "Cougar",                   ["model"] = 90264823,     ["item"] = "meat",        ["poor"] = 1914602340,  ["good"] = 459744337,   ["perfect"] = -1791452194, ["reward"] = 6,  },
    [48] = {["name"] = "Florida Cracker Cow",      ["model"] = -50684386,    ["item"] = "meat",        ["poor"] = 334093551,   ["good"] = 1150594075,  ["perfect"] = -845037222,  ["reward"] = 1,  },
    [49] = {["name"] = "Coyote",                   ["model"] = 480688259,    ["item"] = "meat",        ["poor"] = -1558096473, ["good"] = 1150939141,  ["perfect"] = -794277189,  ["reward"] = 2,  },
    [50] = {["name"] = "Whooping Crane",           ["model"] = -564099192,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },   
    [51] = {["name"] = "Gila Monster",             ["model"] = 457416415,    ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  }, -- lizard
    [52] = {["name"] = "Alpine Goat",              ["model"] = -753902995,   ["item"] = "meat",        ["poor"] = 699990316,   ["good"] = 1710714415,  ["perfect"] = -1648383828, ["reward"] = 2,  },
    [53] = {["name"] = "Canada Goose",             ["model"] = 723190474,    ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [54] = {["name"] = "Ferruinous Hawk",          ["model"] = -2145890973,  ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 5,  },
    [55] = {["name"] = "Great Blue Heron",         ["model"] = 1095117488,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 8,  },
    [56] = {["name"] = "Green Iguana",             ["model"] = -1854059305,  ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [57] = {["name"] = "Desert Iguana",            ["model"] = -593056309,   ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [58] = {["name"] = "Peccary Pig",              ["model"] = 1751700893,   ["item"] = "meat",        ["poor"] = -99092070,   ["good"] = -1379330323, ["perfect"] = 1963510418,  ["reward"] = 1,  }, -- type of boar (javelina), dont know if its a legendary or not
    [59] = {["name"] = "Common Loon",              ["model"] = 386506078,    ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 1,  },
    [60] = {["name"] = "Moose",                    ["model"] = -1098441944,  ["item"] = "meat",        ["poor"] = 1868576868,  ["good"] = 1636891382,  ["perfect"] = -217731719,  ["reward"] = 5,  },
    [61] = {["name"] = "American Muskrat",         ["model"] = -1134449699,  ["item"] = "meat",        ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 2,  },
    [62] = {["name"] = "Great Horned Owl",         ["model"] = -861544272,   ["item"] = "feather",     ["poor"] = nil,         ["good"] = nil,         ["perfect"] = nil,         ["reward"] = 3,  },
    [63] = {["name"] = "Angus Ox",                 ["model"] = 556355544,    ["item"] = "meat",        ["poor"] = 4623248928,  ["good"] = 1208128650,  ["perfect"] = 659601266,   ["reward"] = 1,  },
    [64] = {["name"] = "Alligator",                ["model"] = -1892280447,  ["item"] = "meat",        ["poor"] = 1806153689,  ["good"] = -802026654,  ["perfect"] = -1625078531, ["reward"] = 6,  },
    [65] = {["name"] = "North American Beaver",    ["model"] = 759906147,    ["item"] = "meat",        ["poor"] = -1569450319, ["good"] = -2059726619, ["perfect"] = 854596618,   ["reward"] = 2,  },
    [66] = {["name"] = "American Black Bear",      ["model"] = 730092646,    ["item"] = "meat",        ["poor"] = 1083865179,  ["good"] = 1490032862,  ["perfect"] = 663376218,   ["reward"] = 7,  },
}



Shops = {
    {["name"] = "Saint Denis",["x"] = 2816.37,  ["y"] = -1322.24, ["z"] = 46.61, ["gain"] = 1.11,},
    {["name"] = "Valentine",  ["x"] = -341.07,  ["y"] = 767.35, ["z"] = 116.71, ["gain"] = 1.11,},
    {["name"] = "Rhodes",     ["x"] = 1296.36,  ["y"] = -1279.26, ["z"] = 75.84, ["gain"] = 1.11,},
    {["name"] = "Tumbleweed", ["x"] = -5508.10, ["y"] = -2947.73, ["z"] = -1.87, ["gain"] = 1.11,},
    {["name"] = "Anusburg",   ["x"] = 2932.54,  ["y"] = 1302.00,["z"] = 44.48, ["gain"] = 1.11,},
    {["name"] = "Van Horn",   ["x"] = 2994.23,  ["y"] = 571.79,["z"] = 44.35, ["gain"] = 1.33,},
    {["name"] = "Blackwater", ["x"] = -877.19,  ["y"] = -1343.62,["z"] = 43.29, ["gain"] = 1.11,}
}


Citizen.CreateThread(function()
    SalePrompt = Citizen.InvokeNative(0x29FA7910726C3889, Keys["G"], CreateVarString(10, "LITERAL_STRING", "Sell Carcass/Pelt"), 6, 1, 1, -1)
    PromptSetEnabled(SalePrompt, false)
    PromptSetVisible(SalePrompt, false)
    Citizen.InvokeNative(0x74C7D7B72ED0D3CF, SalePrompt, 2000)
    while true do
        Citizen.Wait(0)
        local PlayerPed = PlayerPedId()
        local Holding = Citizen.InvokeNative(0xD806CD2A4F2C2996, PlayerPed)
        if Holding then
            local PlayerPosition = GetEntityCoords(PlayerPed, false)
            local Quality = Citizen.InvokeNative(0x31FEF6A20F00B963, Holding)
            local Model = GetEntityModel(Holding)
            local PedType = GetPedType(Holding)
            for Index, Row in pairs(Animal) do
                if Model == Animal[Index]["model"] then
                    for Shop = 1, #Shops do 
                        local ShopPosition = vector3(Shops[Shop]["x"], Shops[Shop]["y"], Shops[Shop]["z"])
                        if #(PlayerPosition - ShopPosition) < 1.1 then
                            if not Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, true)
                                PromptSetVisible(SalePrompt, true)
                            end
                            if Citizen.InvokeNative(0xE0F65F0640EF0617, SalePrompt, false) then
                                local Endpiece = Shops[Shop]["gain"] * Animal[Index]["reward"]
                                SetEntityAsMissionEntity(Holding, true, true)
                                DeleteEntity(Holding)
                                exports["rp-notify"]:DisplayLeftNotification("Hunting", "You sold your "..Animal[Index]["name"], "HUD_TOASTS", "toast_player_deadeye", 10000)
                            end
                        else
                            if Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, false)
                                PromptSetVisible(SalePrompt, false)
                            end
                        end
                    end
                elseif Quality == Animal[Index]["poor"] then
                    for Shop = 1, #Shops do 
                        local ShopPosition = vector3(Shops[Shop]["x"], Shops[Shop]["y"], Shops[Shop]["z"])
                        if #(PlayerPosition - ShopPosition) < 1.1 then
                            if not Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, true)
                                PromptSetVisible(SalePrompt, true)
                            end
                            if Citizen.InvokeNative(0xE0F65F0640EF0617, SalePrompt, false) then
                                local Endpiece = Shops[Shop]["gain"] * Animal[Index]["reward"]
                                SetEntityAsMissionEntity(Holding, true, true)
                                DeleteEntity(Holding)
                                exports["rp-notify"]:DisplayLeftNotification("Hunting", "You sold your poor "..Animal[Index]["name"].." pelt", "HUD_TOASTS", "toast_player_deadeye", 10000)
                            end
                        else
                            if Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, false)
                                PromptSetVisible(SalePrompt, false)
                            end
                        end
                    end
                elseif Quality == Animal[Index]["good"] then
                    for Shop = 1, #Shops do 
                        local ShopPosition = vector3(Shops[Shop]["x"], Shops[Shop]["y"], Shops[Shop]["z"])
                        if #(PlayerPosition - ShopPosition) < 1.1 then
                            if not Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, true)
                                PromptSetVisible(SalePrompt, true)
                            end
                            if Citizen.InvokeNative(0xE0F65F0640EF0617, SalePrompt, false) then
                                local Endpiece = Shops[Shop]["gain"] * Animal[Index]["reward"]
                                SetEntityAsMissionEntity(Holding, true, true)
                                DeleteEntity(Holding)
                                exports["rp-notify"]:DisplayLeftNotification("Hunting", "You sold your good "..Animal[Index]["name"].." pelt", "HUD_TOASTS", "toast_player_deadeye", 10000)
                            end
                        else
                            if Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, false)
                                PromptSetVisible(SalePrompt, false)
                            end
                        end
                    end
                elseif Quality == Animal[Index]["perfect"] then
                    for Shop = 1, #Shops do 
                        local ShopPosition = vector3(Shops[Shop]["x"], Shops[Shop]["y"], Shops[Shop]["z"])
                        if #(PlayerPosition - ShopPosition) < 1.1 then
                            if not Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, true)
                                PromptSetVisible(SalePrompt, true)
                            end
                            if Citizen.InvokeNative(0xE0F65F0640EF0617, SalePrompt, false) then
                                local Endpiece = Shops[Shop]["gain"] * Animal[Index]["reward"]
                                SetEntityAsMissionEntity(Holding, true, true)
                                DeleteEntity(Holding)
                                exports["rp-notify"]:DisplayLeftNotification("Hunting", "You sold your perfect "..Animal[Index]["name"].." pelt", "HUD_TOASTS", "toast_player_deadeye", 10000)
                            end
                        else
                            if Citizen.InvokeNative(0x0D00EDDFB58B7F28, SalePrompt) then
                                PromptSetEnabled(SalePrompt, false)
                                PromptSetVisible(SalePrompt, false)
                            end
                        end
                    end
                end
            end
        end
    end
end)

--SNIPPET FROM CRYPTOGENICS, HOW I BUILT IT--
--[[Citizen.CreateThread(function()
    Wait(500)
    while true do
        Wait(100)
        local entity = Citizen.InvokeNative(0xD806CD2A4F2C2996, PlayerPedId())
        local model = GetEntityModel(entity)
        local carriedEntityHash = Citizen.InvokeNative(0x31FEF6A20F00B963, entity)
        local type = GetPedType(entity)
            if type == 28 then
                print(" ")
                print("Carcass Model")
                print(model)
        else
            print(" ")
            print("Not holding carcass")
        end
        if carriedEntityHash then
            print(" ")
            print("Pelt Model")
            print(carriedEntityHash)
        elseif carriedEntityHash == nil then
            print(" ")
            print("Not holding Provision")
            Wait(1000)
        end
    end
end)]]--
